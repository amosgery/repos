@page
@model NewWebApp.Pages.registerModel
@{
}
<div id="message" class="error" name="message">@Model.Msg</div>
<br /><br />
<form id="RegForm" method="post">
    <label for="Username">User name:</label><br>
    <input type="text" id="username" name="Username" onchange="OnUsernameChange()" required><br>
    <label for="Password">Password:</label><br>
    <input type="password" id="password" name="Password" onchange="OnPasswordChange()"  required><br>
    <label for="fname">First name:</label><br>
    <input type="text" id="fname" name="Firstname" required><br>
    <label for="lname">Last name:</label><br>
    <input type="text" id="lname" name="Lastname" required><br><br>
    <label for="dbirth">Date of birth:</label><br>
    <input type="date" id="dbirth" name="Birthdate" onchange="OnDateChange()" required><br><br>
    <input type="submit" value="Submit" id="button" />
</form>

<script>
function OnUsernameChange() {

    const username = document.getElementById("username").value;
    if (username.length < 4)  {
         alert("Username must be at least 4 characters long");
        return;
    }
}

    function OnPasswordChange() {

        const username = document.getElementById("password").value;
        if (username.length < 6) {
            alert("Password must be at least 6 characters long");
            return;
        }
    }

    function OnDateChange() {
        const date = document.getElementById("dbirth").value;
        const bDate = new Date(date);
        const currentDate = new Date();
        const currentYear = currentDate.getFullYear();

        if (currentYear < bDate.getFullYear() + 5)
            alert("You have to be at least 5 to enter");


    }
</script>
